import{_ as e}from"./plugin-vue_export-helper-x3n3nnut.js";import{r,o as t,c as h,b as a,f as n,w as d,d as i,a as s}from"./app-FuCI9de9.js";const o={},c=a("h1",{id:"电商订单设计方案",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#电商订单设计方案","aria-hidden":"true"},"#"),i(" 电商订单设计方案")],-1),_=s('<img src="https://www.plantuml.com/plantuml/svg/XPFVJi8m5CRl-nIz9xm05uPNcReBeenaRDuZOAO8mm3-IJ24HON4i968BBg8BxDsvIqSdexiB29NQt-dt_Vrj5snQYYwOPPFIVMaf56zKbKfKKoZefdbGrKdH3aoAZfTZrVCTJQJqfbYgCcSm9VcymTKk4_2g_6EnH_hD9UZ1Hez1EnhaEP4LmrJrsI5MrrsDK8cR731UhLONg3ytHOJ2m2pxiHucgWHIwjvTnWj70Y7CIpTAzp6ReIZvsZO0YAy5rvlOhbak7M7jGUowTSMQx-9nIpyc1DPsAo9-bDk-Ti8uJbW47wFUSrB8X1BgJCRZDL0i1gnb9htlJ2u1xNe-Co-1OBLVxFbkhTazXoVSyeFnaIYx6a0bXUDSlvXoTP_tSAWnywduCRi6x6OR1_Hx9Ajcf8HkIwx0IZZCCJIVQMpejagRdwNBLInxLwswya8hn46Ff3iMsi8ztEdaBdNiJKMmWmgX1HLxJZ-kNy0" alt="uml diagram" loading="lazy"><h2 id="电商订单的职责" tabindex="-1"><a class="header-anchor" href="#电商订单的职责" aria-hidden="true">#</a> 电商订单的职责</h2><ol><li>电商订单是记录电商平台上的交易信息的重要数据实体，包括订单号、商品信息、收货地址、支付信息等。</li><li>电商订单具有以下职责： <ul><li>记录并管理交易信息：电商订单负责记录和管理商品信息、支付信息、物流信息等交易相关数据。</li><li>控制交易流程：电商订单可以根据订单状态控制交易流程，如待支付、已支付、待发货、已发货、已完成等。</li><li>支持订单查询和统计：电商订单可以提供订单查询和统计功能，以便用户和商家进行订单管理、交易分析等操作。</li><li>支持订单修改和取消：电商订单可以支持用户和商家对订单进行修改和取消操作，以满足不同业务场景的需求。</li><li>保证订单安全和隐私：电商订单需要采取相应的安全措施，确保订单信息的安全性和隐私性。</li></ul></li><li>电商订单的实现可以采用数据库存储、API接口调用等方式，具体的实现方式根据业务需求和系统架构进行选择。</li></ol><hr><img src="https://www.plantuml.com/plantuml/svg/PPDDJi905CVtSuek_GWdSCCzZ0iYB8Y82SMLCQ6HQ2KQ9GoW8X6w8IviIIo5K5Ckqvcsjt26UQKpTDV_xts_DotgpLAZUNrPG_f5jQurhlGAEg-LT5sBROiyzyFDb1gETeEqOo3LSlOTTJpQChWcveZuQphqag7BDHsvT33FT38DY6s9R5l__Ztf6KAVdcqZi1FwRwa79n7-ekPhMlNWy2Gh962ANWRKCnKaakrvTMDt1YBw2IZsGCHEE_INgPlzn8foSOjW4tAlV1ExzlagUFoiJIT_8CWQyp7y9KDRaE0MmRO4miqTO-cWl9d7Rxg0_5bLsGsg2WI5X62rYVcUHSbxXYY188fDpRP0FkTaBBSG6pZwzVTRa4y2oGJQ9UE2hYQ9qPD0yj1DhB5eSlL1EbFcliif3miv0GKZjZksM8c9GEKb7XKAwcFAMULpvQtACqD8kIstAzV9MPLJeMAbNcQ_pZy0" alt="uml diagram" loading="lazy"><hr><h2 id="核心api" tabindex="-1"><a class="header-anchor" href="#核心api" aria-hidden="true">#</a> 核心API</h2><ul><li>生成订单id();</li><li>创建订单();</li><li>取消订单();</li><li>支付订单();</li><li>发货();</li><li>签收();</li><li>评价();</li><li>完成();</li></ul><h2 id="订单状态机设计" tabindex="-1"><a class="header-anchor" href="#订单状态机设计" aria-hidden="true">#</a> 订单状态机设计</h2><hr><img src="https://www.plantuml.com/plantuml/svg/XLFBIiD05DtFLmJSwA985hv22VML_n3iJbret4Ty46ZL5c8HMbsuQA5eMgHMiTAlwOpnBxntPZ8pINniaiCvPyxSd9bKZloTG_zuVuy0yAiM3UzehqRhBMlEyppRjbF-zPbUjzWuH7uxmxDeC9lS8h-LypUJKG_vpGp_-JHbqHZvZQm_hhEmWVowmNy4E4yKqyOLIck6n4awEAFjUvHMCsbVGG2xiquV07kSec4vRv3yIY5JJRA4ajHuKrQvpD-kAzdgmIvmy0I624kfv1ezEe3RTFAUn0_qycP-WMY96rMnOEJWTwDish44q4ObgKHUFIOYA5hCLY4kR2RT4r488NgzJ9C7vbW2Y3JJya-QN9_E9ig5sJWGQQRbppHJv6xp4ZXwsX-SwiWXjDCNyo-gBm5Ah6Idv_JYPVPMKtkQM-YapEroB02WfviN7VaHPBgcZAzH3S5muJ0PTUMXy6k2FhnqH7SfAP9Pdf8LUC3__Gq0" alt="uml diagram" loading="lazy"><hr><h2 id="注意的场景" tabindex="-1"><a class="header-anchor" href="#注意的场景" aria-hidden="true">#</a> 注意的场景</h2><h3 id="如何避免重复下单" tabindex="-1"><a class="header-anchor" href="#如何避免重复下单" aria-hidden="true">#</a> 如何避免重复下单?</h3><p>首先,生成订单ID; 然后,使用订单ID作为幂等标识下单;</p><h3 id="如何解决aba问题-网络异常情况下-请求顺序不一致导致数据错乱" tabindex="-1"><a class="header-anchor" href="#如何解决aba问题-网络异常情况下-请求顺序不一致导致数据错乱" aria-hidden="true">#</a> 如何解决ABA问题? (网络异常情况下, 请求顺序不一致导致数据错乱)</h3><p>版本号的乐观锁机制</p><ol><li>查询接口将版本返回给调用方</li><li>调用方将版本号作为参数给接口, 当版本一致的时候更新数据, 不一致不更新, 提示用户刷新页面</li></ol>',18);function m(p,u){const l=r("RouterLink");return t(),h("div",null,[c,a("p",null,[n(l,{to:"/zh/posts/%E7%94%B5%E5%95%86/%E7%94%B5%E5%95%86%E4%B8%9A%E5%8A%A1%E6%B5%81%E7%A8%8B%E6%97%B6%E5%BA%8F.html"},{default:d(()=>[i("电商业务流程时序.md")]),_:1})]),_])}const b=e(o,[["render",m],["__file","电商订单设计方案.html.vue"]]);export{b as default};
